---
title: Configure a consistent CRX Id
description: Learn how to configure a consistent CRX Id in your Chrome Extension for development and production.
---

# Configure a consistent Chrome Extension key

Your Chrome Extension has its own unique CRX Is. This key can change while you are developing, unless you take steps to configure the extension. This guide will cover those steps so that your extension will have a stable, unchanging key.


## Setup a CRX Id for a new extension

<Steps> 

### Generate public/private keys and an id

Chrome Extensions have unique CRX Id. Having a changing Chrome extension will lead to errors and issues with the Clerk integration and in other errors. The following steps will ensure that you have a consistent CRX Id in development and production for your extension.

1. Visit Plasmo Itero's [Generate Keypairs](https://itero.plasmo.com/tools/generate-keypairs) tool
1. Click the `Generate KeyPairs` button
1. Copy the private key and keep it safe in case you need it in the future.
1. Copy the public key.


### Create a `.env.chrome` file to store your public key

```bash {{ filename: ".env.chrome" }}
CRX_PUBLIC_KEY=<PUBLIC KEY>
```

### Edit your `package.json` to use the new public key

If you were building an extension from scratch or using tools you would need to maintain a `manifest.json` file, and potentially modify it for development and production. Plasmo uses the `package.json` to generate a `manifest.json` on build, and allows for the user of environment variables in `package.json`.

```bash {{filename: "package.json", mark: [ 33 ] }}
{
  // rest of the package.json file
  "manifest": {
    "host_permissions": [
      "https://*/*"
    ],
    "key": "$CRX_PUBLIC_KEY"
  }
}
```

### Verify the CRX Id

After editing the `package.json`, perform a `pnpm dev` so that the devlepment build is updated. Remove and re-install the extension in your browser by opening a tab and navigating to `chrome://extensions`. Once you have re-installed the extension verify that the 'ID' field value matches the CRX Id you generated along with your public key.
</Steps>

## Configure a CRX Id for an extension uploaded to the Chrome Developer Dashboard

If you have already uploaded a version of your extension to the [Chrome Developer Dashboard](https://chrome.google.com/webstore/developer/dashboard), the following steps will allow you to configure your extension.

<Steps>

### Copy the public key

In the Chrome Developer Dashboard:

1. In the navigation sidebar, select **Package**.
2. Select **View public key**. A dialog will appear with your public key.
3. Copy the contents that are between `-----BEGIN PUBLIC KEY-----` and `-----END PUBLIC KEY-----`.

### Create a `.env.chrome` file to store your public key

Add a `.env.chrome` file to your Plasmo based extension, and add `CRX_PUBLIC_KEY=<PUBLIC KEY>`. This does not need to be prepended with `PLASMO_PUBLIC_` as the client side code doesn't need to read it.

```bash {{ filename: ".env.chrome" }}
CRX_PUBLIC_KEY=<PUBLIC KEY>
```

### Edit your `package.json` to use the new public key

If you were building an extension from scratch or using tools you would need to maintain a `manifest.json` file, and potentially modify it for development and production. Plasmo uses the `package.json` to generate a `manifest.json` on build, and allows for the user of environment variables in `package.json`.

```bash {{filename: "package.json", mark: [ 33 ] }}
{
  // rest of the package.json file
  "manifest": {
    "host_permissions": [
      "https://*/*"
    ],
    "key": "$CRX_PUBLIC_KEY"
  }
}
```

### Validate the Extension ID

Your extension should now have a consistent and unchanging ID. To validate this:

1. At the top left of the Chrome Developer Dashboard, your extension ID will be displayed below the name of your extension.
1. In your Chrome browser, navigate to `chrome://extensions`.
1. Locate your extension in the list of extensions. The ID of your extension should match the ID displayed in the Chrome Developer Dashboard.

</Steps>
