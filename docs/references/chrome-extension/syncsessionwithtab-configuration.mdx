---
title: syncSessionWithTab configuration
description: Learn how to configure your Chrome Extension to sync user authentication with your web application.
---

# `syncSessionWithTab` configuration

The `syncSessionWithTab` feature enables your user's session in your web application to be synced with your Chrome Extension. As soon as a user authenticates in your web application, the user will be authenticated in your Chrome Extension as well.

<Steps>

### Add `syncSessionWithTab` prop to `<ClerkProvider />`

To enable `syncSessionWithTab`, add the prop to the `<ClerkProvider />` component in your Chrome Extension, as seen in the following example:

```jsx filename="main.tsx" {5}
<ClerkProvider
  routerPush={(to) => navigate(to)}
  routerReplace={(to) => navigate(to, { replace: true })}
  publishableKey={PUBLISHABLE_KEY}
  syncSessionWithTab
>
  <App />
</ClerkProvider>
```

### Configure `host_permissions`

`host_permissions` allows you to specify which hosts, or websites, will have permission to sync auth state with your application. It accepts an array, allowing you to add more than one host.

1. Open your `manifest.json` file and add the `host_permissions` key.
1. For development, add the `http://localhost` host.
    For production, add your domain and ensure it is preceded with `https://`. For example, `https://clerk.com`. Only add the root domain and not subdomains.

The following examples shows how to configure `host_permissions` for development:

```json filename="/package.json" {5-7}
{
  // ... the rest of your package.json
  "host_permissions": [
    "http://localhost/*",
    "https://$CLERK_FRONTEND_API/*"
  ],
}
```

### Configure `permissions`

`permissions` allows you to specify which permissions your extension requires.

1. Open your `manifest.json` file and add the `permissions` key.
1. Add `"cookies"` and `"storage"` to the array as shown in the following example:

```json filename="/package.json" {5-8}
{
  // ... the rest of your package.json
  "permissions": [
    "cookies",
    "storage"
  ],
}
```

### Add the Extension's ID to your instance's `allowed_origins`

For web applications, Clerk requires you to set a **domain** in your Clerk Dashboard. For Chrome Extensions, the **extension ID** is used *instead* of a domain. You must add this to your application's settings via the Backend API instead of the Clerk Dashboard.

<Callout type="info">
  Completing the steps from the [Configure a consistent key](/docs/references/chrome-extension/configure-consistent-key) guide will prevent you from having to do this repeatedly.
</Callout>

<SignedIn>

In your terminal, paste the following command and replace the `<CHROME_EXTENSION_KEY>` with your extension's ID.

</SignedIn>

<SignedOut>

1. Navigate to the Clerk Dashboard.
1. In the navigation sidebar, select [API Keys](https://dashboard.clerk.com/last-active?path=api-keys).
1. Copy your secret key.
1. In your terminal, paste the following command and replace `YOUR_SECRET_KEY` with your Clerk secret key, and the `<CHROME_EXTENSION_KEY>` with your extension's ID.

The final result should resemble the following:

</SignedOut>

```bash filename="terminal"
curl  -X PATCH https://api.clerk.com/v1/instance \
      -H "Authorization: Bearer {{secret}}" \
      -H "Content-type: application/json" \
      -d '{"allowed_origins": ["chrome-extension://<CHROME_EXTENSION_ID>"]}'
```
<Callout type="info">
Make sure that you use the Chrome Extension ID and not the Key with the above command.
</Callout>

Running the command will add the extension's ID to your instance's `allowed_origins`.

</Steps>
