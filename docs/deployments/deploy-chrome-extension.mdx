---
title: Deploy a Chrome Extension
description: Learn how to deploy a Chrome Extension with Clerk.
---

# Deploy a Chrome Extension

## Create a Production instance

For Clerk production instances, there must be a domain associated with the instance. Even though there may not be a web application associated with the Chrome Extension, a domain is still required. Please read the [Deploy your Clerk app to production](/docs/deployments/overview) guide for more information.

## Add production domain to `host_permissions`

`host_permissions` allows you to specify which hosts, or websites, will have permission to sync auth state with your application. It accepts an array, allowing you to add more than one host.

<Steps>

### Copy your production Clerk key and frontend API Url

When following the [Chrome Extension Quickstart](/docs/quickstart/chrome-extension) you created a `.env.developmnet` file and added your development instances public key and frontent API values. For production extensions, created a `.env.production`

<SignedIn>

Add the following keys to your `.env.development` file. These keys can always be retrieved from the [API Keys](https://dashboard.clerk.com/last-active?path=api-keys) page of your Clerk Dashboard.

</SignedIn>

<SignedOut>

1. Navigate to the Clerk Dashboard.
2. In the navigation sidebar, select [API Keys](https://dashboard.clerk.com/last-active?path=api-keys).
3. In the **Quick Copy** section, select **Chrome Extension** and copy your Clerk publishable and frontend API key.
4. Paste your keys into your `.env.development` file.

The final result should resemble the following:

</SignedOut>

  <InjectKeys>

  ```sh filename=".env.development"
  PLASMO_PUBLIC_CLERK_PUBLISHABLE_KEY={{pub_key}}
  CLERK_FRONTEND_API={{fapi_url}}
  ```

  </InjectKeys>

### Update `package.json`

`host_permissions` allows you to specify which hosts, or websites, will have permission to sync auth state with your application. It accepts an array, allowing you to add more than one host.

1. Open your `manifest.json` file and add the `host_permissions` key.
1. For production, add your domain and ensure it is preceded with `https://`. For example, `https://clerk.com`. Only add the root domain and not subdomains.

The following examples shows how to configure `host_permissions` for development:

```json filename="/package.json" {5-7}
{
  // ... the rest of your package.json
  "host_permissions": [
    "https://<yourdomain>/*",
    "https://$CLERK_FRONTEND_API/*"
  ],
}
```
</Steps> 

## Add the Extension's ID to your instance's `allowed_origins`

For web applications, Clerk requires you to set a **domain** in your Clerk Dashboard. For Chrome Extensions, the **extension ID** is used *instead* of a domain. You must add this to your application's settings via the Backend API instead of the Clerk Dashboard.

1. Navigate to the Clerk Dashboard.
1. Ensure that your production instance is selected in the top of the Dashboard.
1. In the navigation sidebar, select [API Keys](https://dashboard.clerk.com/last-active?path=api-keys).
1. Copy your secret key. It should begin with `sk_live_`.
1. In your terminal, paste the following command and replace `<YOUR_SECRET_KEY>` with your Clerk secret key, and the `<CHROME_EXTENSION_KEY>` with your extension's ID.

The final result should resemble the following:

```bash filename="terminal"
curl  -X PATCH https://api.clerk.com/v1/instance \
      -H "Authorization: Bearer <YOUR_SECRET_KEY>" \
      -H "Content-type: application/json" \
      -d '{"allowed_origins": ["chrome-extension://<CHROME_EXTENSION_KEY>"]}'
```

Running the command will add the extension's ID to your instance's `allowed_origins`.


## Submit your extension for review

1. In your application, create a new zip of `build/chrome-mv3-dev` folder. Upload this to the Chrome Web Store Developer Dashboard.
1. In the Privacy tab, locate the **Permission justification** section. Inside of there is a section called **Are you using remote code?**. For this section you will need to indicate that you are using remote code. Clerk loads the `@clerk/clerk-js` package from a CDN and it is not included in the extension.
1. Submit for review in the Chrome Developer Dashboard.
